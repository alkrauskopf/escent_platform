
<div style = "font-size:12px; color: #000000;padding:10px;">

	<br/>
	<span style ="color: #C83A14; font-size:18px">
	<center><strong>College Readiness Standards Benchmark Library</strong></center>
	</span>
	<%= render :partial => "/shared/error_and_notice" %>
	<div>
	  <table>
	  	<tbody>
		<style type="text/css" media="screen">
   		table,tr,td { border:none; }
		table tr:hover{
      		background-color: transparent;
   			}
		</style>
		<tr>
			<td style="width:600px; text-align:left;  font-size:12px; padding-left:10px;padding-bottom:20px;">
				<%= link_to "Return", :controller => "/apps/assessment", :action => "manage", :organization_id => @current_organization, :classroom_id => @classroom %>
			</td>
			<td style="width:300px; text-align:right;  font-size:12px; padding-right:20px;">
				<%=link_to 'Add New Benchmark', :controller => 'apps/assessment',:action => "add_benchmark",:organization_id => @current_organization, :classroom_id => @classroom, :function => "New"%>
			</td>
		</tr>
		</tbody>
	  </table>	
	</div>

	<div>
	<% unless @benchmarks.size.zero? %>
	<div id="assign_resources_panel">
		<table id="authorization_levels" class="tablesorter" style="width:99%;">
			<thead>
				<tr>
					<% header_string = pluralize(@benchmarks.size.to_s, " Benchmark") + " In The Library" %>
					<th><strong><%= header_string %></strong></th>											
				</tr>
			</thead>
			<tbody>

  
				<% sub_ids = @benchmarks.group_by(&:act_subject_id) %>
				<% sub_ids.each do |si, benchmarks| %>
					<% subj_name = ActSubject.find(si).name -%> 
					<% col_label = benchmarks.size.to_s + " " + subj_name-%>
					<tr>
					<td class="authorization_levels_close">

					<%= link_to '', :controller => "apps/assessment", :action => :subject_benchmarks, :organization_id => @current_organization, :classroom_id => @classroom,  :subj_id => si %>
					<strong><%= col_label %></strong>
					<span></span>
					</td>
					</tr>
					<% end -%>
			</tbody>
		</table>
	<br/>

	</div>
<% else -%>
	<br/>
	<span style ="color: #C83A14; font-size:11px">
	<center><i>* * *  There Are No Benchmarks In The Library At This Time  * * *</i></center>
	</span>
<% end -%>	

	<div style="width:100%; text-align:left;  font-size:12px; padding:10px;">
	&nbsp;<br/>
	  <%= link_to "Return", :controller => "/apps/assessment", :action => "manage", :organization_id => @current_organization, :classroom_id => @classroom %>
	</div>

</div>
<script type="text/javascript" charset="utf-8">
jQ(document).ready(function() {
	jQ('#authorization_levels .authorization_levels_close').toggleAuthorizationLevels();
	jQ('#authorization_levels .authorization_levels_open').toggleAuthorizationLevels();	
  jQ("#roles").tablesorter({ headers: { 1: { sorter: false }} });
});
</script>
<script type="text/javascript">
	jQ(document).ready(function() {
		function showDialogContent(title, content_id) {
			$dialog = jQ("#view-content");
			// next line is broken.		
			$dialog.attr("title", title);
			jQ.post('<%= url_for :controller => :content, :action => :show, :organization_id => @current_organization %>', {'id':content_id}, function(data) {
				$dialog.html(data);
				$dialog.dialog('open');
			})
		}

		var addButtonAction = function() {
			jQ("button", jQ("#topic_content")).each(function() {
				jQ(this).click(function() {
					var title = jQ(this).parent("td").parent("tr").children("td").eq(0).text();
					var content_id = jQ(this).parent("td").parent("tr").attr("id");
					showDialogContent(title, content_id)
					return false;
				})
			})
		}
		jQ('.dialog').dialog('close');
		addButtonAction();

	})
</script>